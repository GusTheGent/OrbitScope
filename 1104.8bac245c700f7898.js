"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1104],{1104:(et,p,l)=>{l.r(p),l.d(p,{ApodPageModule:()=>Q});var m=l(1368),v=l(4716),r=l(2112),u=l(8271),g=l(1528),o=l(4496),b=l(5988);const T={pageTitle:"Astronomy Picture of the Day",pageDescription:"One of the most popular websites at NASA is the Astronomy Picture of the Day. In fact, this website is one of the most popular websites across all federal agencies. It has the popular appeal of a Justin Bieber video. This endpoint structures the APOD imagery and associated metadata so that it can be repurposed for other applications. In addition, if the concept_tags parameter is set to True, then keywords derived from the image explanation are returned. These keywords could be used as auto-generated hashtags for twitter or instagram feeds but generally help with discoverability of relevant imagery.",pageSource:"https://api.nasa.gov/"};var f=l(7048),I=l(6716),M=l(8996);let P=(()=>{var s;class t{constructor(){this.http=(0,o.uUt)(f.KK),this.BASE_URL=I.O.BASE_URL}getPlanetaryAPOD(e){const n=(new f.i4).set("api_key",I.O.API_KEY).set("date",e);return this.http.get(`${this.BASE_URL}/${M.i.APOD_PLANETARY}`,{params:n})}}return(s=t).\u0275fac=function(e){return new(e||s)},s.\u0275prov=o.wxM({token:s,factory:s.\u0275fac,providedIn:"root"}),t})();var C=l(9144),S=l(8960),w=l(8824),z=l(5272),D=l(4476),_=l(9240);function L(s,t){if(1&s){const i=o.KQA();o.I0R(0,"div",2),o.qCj("click",function(){o.usT(i);const n=o.GaO();return o.CGJ(n.toggleZoom())}),o.C$Y()}if(2&s){const i=o.GaO();o.eAK("pz-zoom-button-out",i.isZoomedIn)}}const Z=["*"],d={transitionDuration:200,doubleTap:!0,doubleTapScale:2,limitZoom:"original image size",autoZoomOut:!1,zoomControlScale:1,minPanScale:1.0001,minScale:0,listeners:"mouse and touch",wheel:!0,wheelZoomFactor:.2,draggableImage:!1},y={"transition-duration":"transitionDuration",transitionDurationBackwardCompatibility:"transitionDuration","double-tap":"doubleTap",doubleTapBackwardCompatibility:"doubleTap","double-tap-scale":"doubleTapScale",doubleTapScaleBackwardCompatibility:"doubleTapScale","auto-zoom-out":"autoZoomOut",autoZoomOutBackwardCompatibility:"autoZoomOut","limit-zoom":"limitZoom",limitZoomBackwardCompatibility:"limitZoom"};class x{get touchListeners(){return this.properties.touchListeners?this.properties.touchListeners:this._touchListeners}get mouseListeners(){return this.properties.mouseListeners?this.properties.mouseListeners:this._mouseListeners}get otherListeners(){return this.properties.otherListeners?this.properties.otherListeners:this._otherListeners}constructor(t){this.eventType=void 0,this.handlers={},this.startX=0,this.startY=0,this.lastTap=0,this.doubleTapMinTimeout=300,this.tapMinTimeout=200,this.touchstartTime=0,this.i=0,this.isMousedown=!1,this._touchListeners={touchstart:"handleTouchstart",touchmove:"handleTouchmove",touchend:"handleTouchend"},this._mouseListeners={mousedown:"handleMousedown",mousemove:"handleMousemove",mouseup:"handleMouseup",wheel:"handleWheel"},this._otherListeners={resize:"handleResize"},this.handleTouchstart=i=>{this.elementPosition=this.getElementPosition(),this.touchstartTime=(new Date).getTime(),void 0===this.eventType&&this.getTouchstartPosition(i),this.runHandler("touchstart",i)},this.handleTouchmove=i=>{this.detectPan(i.touches)&&this.runHandler("pan",i),this.detectPinch(i)&&this.runHandler("pinch",i)},this.handleTouchend=i=>{const e=i.touches;this.detectDoubleTap()&&this.runHandler("double-tap",i),this.detectTap(),this.runHandler("touchend",i),this.eventType="touchend",e&&0===e.length&&(this.eventType=void 0,this.i=0)},this.handleMousedown=i=>{this.isMousedown=!0,this.elementPosition=this.getElementPosition(),this.touchstartTime=(new Date).getTime(),void 0===this.eventType&&this.getMousedownPosition(i),this.runHandler("mousedown",i)},this.handleMousemove=i=>{if(this.isMousedown){switch(this.runHandler("pan",i),this.detectLinearSwipe(i)){case"horizontal-swipe":i.swipeType="horizontal-swipe",this.runHandler("horizontal-swipe",i);break;case"vertical-swipe":i.swipeType="vertical-swipe",this.runHandler("vertical-swipe",i)}(this.detectLinearSwipe(i)||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)&&this.handleLinearSwipe(i)}},this.handleMouseup=i=>{this.detectTap(),this.isMousedown=!1,this.runHandler("mouseup",i),this.eventType=void 0,this.i=0},this.handleWheel=i=>{this.runHandler("wheel",i)},this.handleResize=i=>{this.runHandler("resize",i)},this.properties=t,this.element=this.properties.element,this.elementPosition=this.getElementPosition(),this.toggleEventListeners("addEventListener")}destroy(){this.toggleEventListeners("removeEventListener")}toggleEventListeners(t){let i;for(var e in i="mouse and touch"===this.properties.listeners?Object.assign(this.touchListeners,this.mouseListeners):this.detectTouchScreen()?this.touchListeners:this.mouseListeners,this.properties.resize&&(i=Object.assign(i,this.otherListeners)),i){const n=i[e];"resize"===e?("addEventListener"===t&&window.addEventListener(e,this[n],!1),"removeEventListener"===t&&window.removeEventListener(e,this[n],!1)):"mouseup"===e||"mousemove"===e?("addEventListener"===t&&document.addEventListener(e,this[n],!1),"removeEventListener"===t&&document.removeEventListener(e,this[n],!1)):("addEventListener"===t&&this.element.addEventListener(e,this[n],!1),"removeEventListener"===t&&this.element.removeEventListener(e,this[n],!1))}}addEventListeners(t){window.addEventListener(t,this[this._mouseListeners[t]],!1)}removeEventListeners(t){window.removeEventListener(t,this[this._mouseListeners[t]],!1)}handleLinearSwipe(t){this.i++,this.i>3&&(this.eventType=this.getLinearSwipeType(t)),"horizontal-swipe"===this.eventType&&this.runHandler("horizontal-swipe",t),"vertical-swipe"===this.eventType&&this.runHandler("vertical-swipe",t)}runHandler(t,i){this.handlers[t]&&this.handlers[t](i)}detectPan(t){return 1===t.length&&!this.eventType||"pan"===this.eventType}detectDoubleTap(){if(null!=this.eventType)return;const t=(new Date).getTime(),i=t-this.lastTap;if(clearTimeout(this.doubleTapTimeout),i<this.doubleTapMinTimeout&&i>0)return!0;this.doubleTapTimeout=setTimeout(()=>{clearTimeout(this.doubleTapTimeout)},this.doubleTapMinTimeout),this.lastTap=t}detectTap(){if(null!=this.eventType)return;const i=(new Date).getTime()-this.touchstartTime;i>0&&this.runHandler(i<this.tapMinTimeout?"tap":"longtap",{})}detectPinch(t){return 2===t.touches.length&&void 0===this.eventType||"pinch"===this.eventType}detectLinearSwipe(t){const i=t.touches;if(i){if(1===i.length&&!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)}else if(!this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)return this.getLinearSwipeType(t)}getLinearSwipeType(t){if("horizontal-swipe"!==this.eventType&&"vertical-swipe"!==this.eventType){const i=Math.abs(this.moveLeft(0,t)-this.startX);return 3*Math.abs(this.moveTop(0,t)-this.startY)>i?"vertical-swipe":"horizontal-swipe"}return this.eventType}getElementPosition(){return this.element.getBoundingClientRect()}getTouchstartPosition(t){this.startX=t.touches[0].clientX-this.elementPosition.left,this.startY=t.touches[0].clientY-this.elementPosition.top}getMousedownPosition(t){this.startX=t.clientX-this.elementPosition.left,this.startY=t.clientY-this.elementPosition.top}moveLeft(t,i){const e=i.touches;return e?e[t].clientX-this.elementPosition.left:i.clientX-this.elementPosition.left}moveTop(t,i){const e=i.touches;return e?e[t].clientY-this.elementPosition.top:i.clientY-this.elementPosition.top}detectTouchScreen(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var e=["(",t.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(e).matches}on(t,i){t&&(this.handlers[t]=i)}}class A{get minPanScale(){return this.getPropertiesValue("minPanScale")}get fullImage(){return this.properties.fullImage}constructor(t){this.properties=d,this.i=0,this.scale=1,this.initialScale=1,this.startX=0,this.startY=0,this.moveX=0,this.moveY=0,this.initialMoveX=0,this.initialMoveY=0,this.moveXC=0,this.moveYC=0,this.lastTap=0,this.draggingMode=!1,this.distance=0,this.doubleTapTimeout=0,this.initialDistance=0,this.events={},this.defaultMaxScale=3,this.handleTouchstart=i=>{this.touches.addEventListeners("mousemove","handleMousemove"),this.getElementPosition(),void 0===this.eventType&&this.getTouchstartPosition(i)},this.handleTouchend=i=>{if("touchend"===i.type){this.i=0,this.draggingMode=!1;const e=i.touches;this.scale<1&&(this.scale=1),this.properties.autoZoomOut&&"pinch"===this.eventType&&(this.scale=1),("pinch"===this.eventType||"pan"===this.eventType&&this.scale>this.minPanScale)&&this.alignImage(),("pinch"===this.eventType||"pan"===this.eventType||"horizontal-swipe"===this.eventType||"vertical-swipe"===this.eventType)&&this.updateInitialValues(),this.eventType="touchend",e&&0===e.length&&(this.eventType=void 0)}"mouseup"===i.type&&(this.draggingMode=!1,this.updateInitialValues(),this.eventType=void 0),this.touches.removeEventListeners("mousemove","handleMousemove")},this.handlePan=i=>{if(this.scale<this.minPanScale||this.properties.disablePan)return;i.preventDefault();const{clientX:e,clientY:n}=this.getClientPosition(i);this.eventType||(this.startX=e-this.elementPosition.left,this.startY=n-this.elementPosition.top),this.eventType="pan",this.moveX=this.initialMoveX+(this.moveLeft(i,0)-this.startX),this.moveY=this.initialMoveY+(this.moveTop(i,0)-this.startY),this.properties.limitPan&&(this.limitPanY(),this.limitPanX()),"mousemove"===i.type&&this.scale>this.minPanScale&&this.centeringImage(),this.transformElement(0)},this.handleDoubleTap=i=>{this.toggleZoom(i)},this.handlePinch=i=>{if(i.preventDefault(),void 0===this.eventType||"pinch"===this.eventType){const e=i.touches;if(!this.eventType){this.initialDistance=this.getDistance(e);const n=this.moveLeft(i,0),a=this.moveLeft(i,1),h=this.moveTop(i,0),c=this.moveTop(i,1);this.moveXC=(n+a)/2-this.initialMoveX,this.moveYC=(h+c)/2-this.initialMoveY}this.eventType="pinch",this.distance=this.getDistance(e),this.scale=this.initialScale*(this.distance/this.initialDistance),this.moveX=this.initialMoveX-(this.distance/this.initialDistance*this.moveXC-this.moveXC),this.moveY=this.initialMoveY-(this.distance/this.initialDistance*this.moveYC-this.moveYC),this.handleLimitZoom(),this.properties.limitPan&&(this.limitPanY(),this.limitPanX()),this.transformElement(0)}},this.handleWheel=i=>{i.preventDefault();let e=this.properties.wheelZoomFactor||0,a=this.initialScale+(i.deltaY<0?e:-e);a<1+e?a=1:a<this.maxScale&&a>this.maxScale-e&&(a=this.maxScale),a<1||a>this.maxScale||a===this.scale||(this.getElementPosition(),this.scale=a,this.setZoom({scale:a,center:[i.clientX-this.elementPosition.left-this.initialMoveX,i.clientY-this.elementPosition.top-this.initialMoveY]}))},this.handleResize=i=>{this.setAutoHeight()},this.element=t.element,this.element&&("number"==typeof t.limitZoom&&(this.maxScale=t.limitZoom),this.elementTarget=this.element.querySelector("*").tagName,this.parentElement=this.element.parentElement,this.properties=Object.assign({},d,t),this.detectLimitZoom(),this.touches=new x({element:t.element,listeners:t.listeners,resize:t.autoHeight,mouseListeners:{mousedown:"handleMousedown",mouseup:"handleMouseup",wheel:"handleWheel"}}),this.setBasicStyles(),this.touches.on("touchstart",this.handleTouchstart),this.touches.on("touchend",this.handleTouchend),this.touches.on("mousedown",this.handleTouchstart),this.touches.on("mouseup",this.handleTouchend),this.touches.on("pan",this.handlePan),this.touches.on("mousemove",this.handlePan),this.touches.on("pinch",this.handlePinch),this.properties.wheel&&this.touches.on("wheel",this.handleWheel),this.properties.doubleTap&&this.touches.on("double-tap",this.handleDoubleTap),this.properties.autoHeight&&this.touches.on("resize",this.handleResize))}handleLimitZoom(){const t=this.maxScale,i=this.properties.minScale||0;if(this.scale>t||this.scale<=i){const e=this.getImageWidth(),n=this.getImageHeight(),c=this.moveX/(e*this.scale-e),K=this.moveY/(n*this.scale-n);this.scale>t&&(this.scale=t),this.scale<=i&&(this.scale=i);const tt=n*this.scale;this.moveX=-Math.abs(c*(e*this.scale-e)),this.moveY=-Math.abs(-K*(tt-n))}}moveLeft(t,i=0){return this.getClientPosition(t,i).clientX-this.elementPosition.left}moveTop(t,i=0){return this.getClientPosition(t,i).clientY-this.elementPosition.top}centeringImage(){const t=this.element.getElementsByTagName(this.elementTarget)[0],i=this.moveX,e=this.moveY;return this.moveY>0&&(this.moveY=0),this.moveX>0&&(this.moveX=0),t&&(this.limitPanY(),this.limitPanX()),t&&this.scale<1&&this.moveX<this.element.offsetWidth*(1-this.scale)&&(this.moveX=this.element.offsetWidth*(1-this.scale)),i!==this.moveX||e!==this.moveY}limitPanY(){const t=this.getImageHeight(),i=t*this.scale,e=this.parentElement.offsetHeight,n=this.element.offsetHeight;if(i<e)this.moveY=(e-n*this.scale)/2;else{const a=(t-n)*this.scale/2;this.moveY>a?this.moveY=a:i+Math.abs(a)-e+this.moveY<0&&(this.moveY=-(i+Math.abs(a)-e))}}limitPanX(){const t=this.getImageWidth(),i=t*this.scale,e=this.parentElement.offsetWidth,n=this.element.offsetWidth;if(i<e)this.moveX=(e-n*this.scale)/2;else{const a=(t-n)*this.scale/2;this.moveX>a?this.moveX=a:i+Math.abs(a)-e+this.moveX<0&&(this.moveX=-(t*this.scale+Math.abs(a)-e))}}setBasicStyles(){this.element.style.display="flex",this.element.style.alignItems="center",this.element.style.justifyContent="center",this.element.style.transformOrigin="0 0",this.setImageSize(),this.setDraggableImage()}removeBasicStyles(){this.element.style.display="",this.element.style.alignItems="",this.element.style.justifyContent="",this.element.style.transformOrigin="",this.removeImageSize(),this.removeDraggableImage()}setDraggableImage(){const t=this.getImageElement();t&&(t.draggable=this.properties.draggableImage)}removeDraggableImage(){const t=this.getImageElement();t&&(t.draggable=!0)}setImageSize(){const t=this.element.getElementsByTagName(this.elementTarget);t.length&&(t[0].style.maxWidth="100%",t[0].style.maxHeight="100%",this.setAutoHeight())}setAutoHeight(){const t=this.element.getElementsByTagName(this.elementTarget);if(!this.properties.autoHeight||!t.length)return;const i=t[0].getAttribute("width"),e=t[0].getAttribute("height");t[0].style.maxHeight=this.parentElement.offsetWidth/(i/e)+"px"}removeImageSize(){const t=this.element.getElementsByTagName(this.elementTarget);t.length&&(t[0].style.maxWidth="",t[0].style.maxHeight="")}getElementPosition(){this.elementPosition=this.element.parentElement.getBoundingClientRect()}getTouchstartPosition(t){const{clientX:i,clientY:e}=this.getClientPosition(t);this.startX=i-this.elementPosition.left,this.startY=e-this.elementPosition.top}getClientPosition(t,i=0){let e,n;return("touchstart"===t.type||"touchmove"===t.type)&&(e=t.touches[i].clientX,n=t.touches[i].clientY),("mousedown"===t.type||"mousemove"===t.type)&&(e=t.clientX,n=t.clientY),{clientX:e,clientY:n}}resetScale(){this.scale=1,this.moveX=0,this.moveY=0,this.updateInitialValues(),this.transformElement(this.properties.transitionDuration)}updateInitialValues(){this.initialScale=this.scale,this.initialMoveX=this.moveX,this.initialMoveY=this.moveY}getDistance(t){return Math.sqrt(Math.pow(t[0].pageX-t[1].pageX,2)+Math.pow(t[0].pageY-t[1].pageY,2))}getImageHeight(){return this.element.getElementsByTagName(this.elementTarget)[0].offsetHeight}getImageWidth(){return this.element.getElementsByTagName(this.elementTarget)[0].offsetWidth}transformElement(t){this.element.style.transition="all "+t+"ms",this.element.style.transform="matrix("+Number(this.scale)+", 0, 0, "+Number(this.scale)+", "+Number(this.moveX)+", "+Number(this.moveY)+")"}isTouchScreen(){const t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;const i=["(",t.join("touch-enabled),("),"heartz",")"].join("");return this.getMatchMedia(i)}getMatchMedia(t){return window.matchMedia(t).matches}isDragging(){if(this.properties.disablePan)return!1;const t=this.getImageHeight(),i=this.getImageWidth();return this.scale>1?t*this.scale>this.parentElement.offsetHeight||i*this.scale>this.parentElement.offsetWidth:1===this.scale?t>this.parentElement.offsetHeight||i>this.parentElement.offsetWidth:void 0}detectLimitZoom(){var t;null!==(t=this.maxScale)&&void 0!==t||(this.maxScale=this.defaultMaxScale),"original image size"===this.properties.limitZoom&&"IMG"===this.elementTarget&&this.pollLimitZoomForOriginalImage()}pollLimitZoomForOriginalImage(){let t=setInterval(()=>{let i=this.getMaxScaleForOriginalImage();"number"==typeof i&&(this.maxScale=i,clearInterval(t))},10)}getMaxScaleForOriginalImage(){let t,i=this.element.getElementsByTagName("img")[0];return i.naturalWidth&&i.offsetWidth&&(t=i.naturalWidth/i.offsetWidth),t}getImageElement(){const t=this.element.getElementsByTagName(this.elementTarget);if(t.length)return t[0]}toggleZoom(t=!1){if(1===this.initialScale){if(t&&t.changedTouches){if(void 0===this.properties.doubleTapScale)return;const i=t.changedTouches;this.scale=this.initialScale*this.properties.doubleTapScale,this.moveX=this.initialMoveX-(i[0].clientX-this.elementPosition.left)*(this.properties.doubleTapScale-1),this.moveY=this.initialMoveY-(i[0].clientY-this.elementPosition.top)*(this.properties.doubleTapScale-1)}else this.scale=this.initialScale*((this.properties.zoomControlScale||0)+1),this.moveX=this.initialMoveX-this.element.offsetWidth*(this.scale-1)/2,this.moveY=this.initialMoveY-this.element.offsetHeight*(this.scale-1)/2;this.centeringImage(),this.updateInitialValues(),this.transformElement(this.properties.transitionDuration)}else this.resetScale()}setZoom(t){this.scale=t.scale;let i,e,n=this.element.offsetWidth,h=n*this.scale/(n*this.initialScale);t.center?(i=t.center[0],e=t.center[1]):(i=n/2-this.initialMoveX,e=this.element.offsetHeight/2-this.initialMoveY),this.moveX=this.initialMoveX-(h*i-i),this.moveY=this.initialMoveY-(h*e-e),this.centeringImage(),this.updateInitialValues(),this.transformElement(this.properties.transitionDuration)}alignImage(){this.centeringImage()&&(this.updateInitialValues(),this.transformElement(this.properties.transitionDuration))}destroy(){this.removeBasicStyles(),this.touches.destroy()}getPropertiesValue(t){return this.properties&&this.properties[t]?this.properties[t]:d[t]}}const Y={overflow:"hidden",disableZoomControl:"auto",backgroundColor:"rgba(0,0,0,0.85)"};let E=(()=>{var s;class t{set properties(e){e&&(this._properties=e)}get properties(){return this._properties}set transitionDurationBackwardCompatibility(e){e&&(this._transitionDuration=e)}set transitionDuration(e){e&&(this._transitionDuration=e)}get transitionDuration(){return this._transitionDuration}set doubleTapBackwardCompatibility(e){e&&(this._doubleTap=e)}set doubleTap(e){e&&(this._doubleTap=e)}get doubleTap(){return this._doubleTap}set doubleTapScaleBackwardCompatibility(e){e&&(this._doubleTapScale=e)}set doubleTapScale(e){e&&(this._doubleTapScale=e)}get doubleTapScale(){return this._doubleTapScale}set autoZoomOutBackwardCompatibility(e){e&&(this._autoZoomOut=e)}set autoZoomOut(e){e&&(this._autoZoomOut=e)}get autoZoomOut(){return this._autoZoomOut}set limitZoomBackwardCompatibility(e){e&&(this._limitZoom=e)}set limitZoom(e){e&&(this._limitZoom=e)}get limitZoom(){return this._limitZoom}get hostOverflow(){return this.properties.overflow}get hostBackgroundColor(){return this.properties.backgroundColor}get isTouchScreen(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var a=["(",e.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(a).matches}get isDragging(){return this.pinchZoom?this.pinchZoom.isDragging():void 0}get isDisabled(){return this.properties.disabled}get scale(){return this.pinchZoom.scale}get isZoomedIn(){return this.scale>1}get scaleLevel(){return Math.round(this.scale/this._zoomControlScale)}get maxScale(){return this.pinchZoom.maxScale}get isZoomLimitReached(){return this.scale>=this.maxScale}get _zoomControlScale(){return this.getPropertiesValue("zoomControlScale")}constructor(e){this.elementRef=e,this.defaultComponentProperties=this.getDefaultComponentProperties(),this.applyPropertiesDefault(this.defaultComponentProperties,{})}ngOnInit(){this.initPinchZoom(),this.detectLimitZoom()}ngOnChanges(e){let n=this.getProperties(e);n=this.renameProperties(n),this.applyPropertiesDefault(this.defaultComponentProperties,n)}ngOnDestroy(){this.destroy()}initPinchZoom(){this.properties.disabled||(this.properties.limitZoom=this.limitZoom,this.properties.element=this.elementRef.nativeElement.querySelector(".pinch-zoom-content"),this.pinchZoom=new A(this.properties))}getProperties(e){let n={};for(var a in e)"properties"!==a&&(n[a]=e[a].currentValue),"properties"===a&&(n=e[a].currentValue);return n}renameProperties(e){for(var n in e)y[n]&&(e[y[n]]=e[n],delete e[n]);return e}applyPropertiesDefault(e,n){this.properties=Object.assign({},e,n)}toggleZoom(){this.pinchZoom.toggleZoom()}isControl(){return!(this.isDisabled||"disable"===this.properties.disableZoomControl||this.isTouchScreen&&"auto"===this.properties.disableZoomControl)}detectLimitZoom(){this.pinchZoom&&this.pinchZoom.detectLimitZoom()}destroy(){this.pinchZoom&&this.pinchZoom.destroy()}getPropertiesValue(e){return this.properties&&this.properties[e]?this.properties[e]:this.defaultComponentProperties[e]}getDefaultComponentProperties(){return{...d,...Y}}}return(s=t).\u0275fac=function(e){return new(e||s)(o.GI1(o.GMv))},s.\u0275cmp=o.In1({type:s,selectors:[["pinch-zoom"],["","pinch-zoom",""]],hostVars:4,hostBindings:function(e,n){2&e&&o.m4B("overflow",n.hostOverflow)("background-color",n.hostBackgroundColor)},inputs:{properties:"properties",transitionDurationBackwardCompatibility:[o.Wk5.None,"transition-duration","transitionDurationBackwardCompatibility"],transitionDuration:"transitionDuration",doubleTapBackwardCompatibility:[o.Wk5.None,"double-tap","doubleTapBackwardCompatibility"],doubleTap:"doubleTap",doubleTapScaleBackwardCompatibility:[o.Wk5.None,"double-tap-scale","doubleTapScaleBackwardCompatibility"],doubleTapScale:"doubleTapScale",autoZoomOutBackwardCompatibility:[o.Wk5.None,"auto-zoom-out","autoZoomOutBackwardCompatibility"],autoZoomOut:"autoZoomOut",limitZoomBackwardCompatibility:[o.Wk5.None,"limit-zoom","limitZoomBackwardCompatibility"],limitZoom:"limitZoom",disabled:"disabled",disablePan:"disablePan",overflow:"overflow",zoomControlScale:"zoomControlScale",disableZoomControl:"disableZoomControl",backgroundColor:"backgroundColor",limitPan:"limitPan",minPanScale:"minPanScale",minScale:"minScale",listeners:"listeners",wheel:"wheel",autoHeight:"autoHeight",wheelZoomFactor:"wheelZoomFactor",draggableImage:"draggableImage"},exportAs:["pinchZoom"],features:[o.SYr],ngContentSelectors:Z,decls:3,vars:3,consts:[[1,"pinch-zoom-content"],["class","pz-zoom-button pz-zoom-control-position-bottom",3,"pz-zoom-button-out","click",4,"ngIf"],[1,"pz-zoom-button","pz-zoom-control-position-bottom",3,"click"]],template:function(e,n){1&e&&(o.kPM(),o.I0R(0,"div",0),o._Xx(1),o.C$Y(),o.yuY(2,L,1,2,"div",1)),2&e&&(o.eAK("pz-dragging",n.isDragging),o.yG2(2),o.E7m("ngIf",n.isControl()))},dependencies:[m.u_],styles:["[_nghost-%COMP%]{position:relative;overflow:hidden;display:block}.pinch-zoom-content[_ngcontent-%COMP%]{height:inherit}.pz-dragging[_ngcontent-%COMP%]{cursor:all-scroll}.pz-zoom-button[_ngcontent-%COMP%]{position:absolute;z-index:1000;color:#fff;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgc3R5bGU9IiI+PHJlY3QgaWQ9ImJhY2tncm91bmRyZWN0IiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSIwIiB5PSIwIiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz48ZyBjbGFzcz0iY3VycmVudExheWVyIiBzdHlsZT0iIj48dGl0bGU+TGF5ZXIgMTwvdGl0bGU+PHBhdGggZD0iTTE1LjUgMTRoLS43OWwtLjI4LS4yN0MxNS40MSAxMi41OSAxNiAxMS4xMSAxNiA5LjUgMTYgNS45MSAxMy4wOSAzIDkuNSAzUzMgNS45MSAzIDkuNSA1LjkxIDE2IDkuNSAxNmMxLjYxIDAgMy4wOS0uNTkgNC4yMy0xLjU3bC4yNy4yOHYuNzlsNSA0Ljk5TDIwLjQ5IDE5bC00Ljk5LTV6bS02IDBDNy4wMSAxNCA1IDExLjk5IDUgOS41UzcuMDEgNSA5LjUgNSAxNCA3LjAxIDE0IDkuNSAxMS45OSAxNCA5LjUgMTR6IiBpZD0ic3ZnXzEiIGNsYXNzPSIiIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMSIvPjxwYXRoIGQ9Ik0xMiAxMGgtMnYySDl2LTJIN1Y5aDJWN2gxdjJoMnYxeiIgaWQ9InN2Z18zIiBjbGFzcz0iIiBmaWxsPSIjZmZmZmZmIiBmaWxsLW9wYWNpdHk9IjEiLz48L2c+PC9zdmc+),url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHJlY3QgaWQ9ImJhY2tncm91bmRyZWN0IiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSIwIiB5PSIwIiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz48ZyBjbGFzcz0iY3VycmVudExheWVyIiBzdHlsZT0iIj48dGl0bGU+TGF5ZXIgMTwvdGl0bGU+PHBhdGggZD0iTTE1LjUgMTRoLS43OWwtLjI4LS4yN0MxNS40MSAxMi41OSAxNiAxMS4xMSAxNiA5LjUgMTYgNS45MSAxMy4wOSAzIDkuNSAzUzMgNS45MSAzIDkuNSA1LjkxIDE2IDkuNSAxNmMxLjYxIDAgMy4wOS0uNTkgNC4yMy0xLjU3bC4yNy4yOHYuNzlsNSA0Ljk5TDIwLjQ5IDE5bC00Ljk5LTV6bS02IDBDNy4wMSAxNCA1IDExLjk5IDUgOS41UzcuMDEgNSA5LjUgNSAxNCA3LjAxIDE0IDkuNSAxMS45OSAxNCA5LjUgMTR6TTcgOWg1djFIN3oiIGlkPSJzdmdfMiIgY2xhc3M9IiIgZmlsbD0iI2ZmZmZmZiIgZmlsbC1vcGFjaXR5PSIxIi8+PC9nPjwvc3ZnPg==);background-color:#000c;background-position:center,-1000px;background-repeat:no-repeat,no-repeat;background-size:40px;width:56px;height:56px;border-radius:4px;opacity:.5;cursor:pointer;transition:opacity .1s;-webkit-user-select:none;user-select:none}.pz-zoom-button-out[_ngcontent-%COMP%]{background-position:-1000px,center}.pz-zoom-button[_ngcontent-%COMP%]:hover{opacity:.7}.pz-zoom-button.pz-zoom-control-position-right[_ngcontent-%COMP%]{right:16px;top:50%;margin-top:-28px}.pz-zoom-button.pz-zoom-control-position-right-bottom[_ngcontent-%COMP%]{right:16px;bottom:32px}.pz-zoom-button.pz-zoom-control-position-bottom[_ngcontent-%COMP%]{bottom:16px;left:50%;margin-left:-28px}.pz-zoom-control[_ngcontent-%COMP%]{position:absolute;background-color:#000c;border-radius:4px;overflow:hidden}.pz-zoom-control.pz-zoom-control-position-right[_ngcontent-%COMP%]{right:16px;top:50%;margin-top:-48px}.pz-zoom-control.pz-zoom-control-position-right-bottom[_ngcontent-%COMP%]{right:16px;bottom:32px}.pz-zoom-control.pz-zoom-control-position-bottom[_ngcontent-%COMP%]{bottom:16px;left:50%;margin-left:-48px}.pz-zoom-in[_ngcontent-%COMP%], .pz-zoom-out[_ngcontent-%COMP%]{width:48px;height:48px;background-position:center;background-repeat:no-repeat;opacity:1;cursor:pointer}.pz-zoom-in[_ngcontent-%COMP%]:hover, .pz-zoom-out[_ngcontent-%COMP%]:hover{background-color:#fff3}.pz-zoom-control-position-bottom[_ngcontent-%COMP%]   .pz-zoom-in[_ngcontent-%COMP%], .pz-zoom-control-position-bottom[_ngcontent-%COMP%]   .pz-zoom-out[_ngcontent-%COMP%]{float:right}.pz-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default}.pz-disabled[_ngcontent-%COMP%]:hover{background-color:#fff0}.pz-zoom-in[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgc3R5bGU9IiI+PHJlY3QgaWQ9ImJhY2tncm91bmRyZWN0IiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSIwIiB5PSIwIiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz48ZyBjbGFzcz0iY3VycmVudExheWVyIiBzdHlsZT0iIj48dGl0bGU+TGF5ZXIgMTwvdGl0bGU+PHBhdGggZD0iTTE5IDEzaC02djZoLTJ2LTZINXYtMmg2VjVoMnY2aDZ2MnoiIGlkPSJzdmdfMSIgY2xhc3M9IiIgc3Ryb2tlPSJub25lIiBmaWxsPSIjZmZmZmZmIiBmaWxsLW9wYWNpdHk9IjEiLz48cGF0aCBkPSJNLTE1LjgzNjczNDQyMDQ2MTY1Myw0NC41MzU0MDkzMDY3MTAxOCBoNTguMjA0MDgwODI3NTkzMDkgdi02LjU3NjIyNjcyMzM2OTIyMTUgSC0xNS44MzY3MzQ0MjA0NjE2NTMgeiIgZmlsbD0ibm9uZSIgaWQ9InN2Z18yIiBjbGFzcz0iIiBzdHJva2U9Im5vbmUiLz48L2c+PC9zdmc+)}.pz-zoom-out[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHJlY3QgaWQ9ImJhY2tncm91bmRyZWN0IiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4PSIwIiB5PSIwIiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz48ZyBjbGFzcz0iY3VycmVudExheWVyIiBzdHlsZT0iIj48dGl0bGU+TGF5ZXIgMTwvdGl0bGU+PHBhdGggZD0iTTE5IDEzSDV2LTJoMTR2MnoiIGlkPSJzdmdfMSIgY2xhc3M9IiIgZmlsbD0iI2ZmZmZmZiIgZmlsbC1vcGFjaXR5PSIxIi8+PC9nPjwvc3ZnPg==)}"]}),t})(),O=(()=>{var s;class t{}return(s=t).\u0275fac=function(e){return new(e||s)},s.\u0275mod=o.a4G({type:s}),s.\u0275inj=o.s3X({imports:[m.MD]}),t})();function k(s,t){1&s&&o.wR5(0,"ion-progress-bar",9)}let N=(()=>{var s;class t{constructor(){this.modalController=(0,o.uUt)(r.qS),this.navParams=(0,o.uUt)(_.a6)}ngOnInit(){this.data=this.navParams.get("data")}onCloseModal(){this.modalController.dismiss(null,"dismissed")}willLoad(e){this.isLoading=!0,console.log(["willLoad"],e)}didLoad(e){this.isLoading=!1,console.log(["didLoad"],e)}}return(s=t).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=o.In1({type:s,selectors:[["app-apod-modal"]],decls:11,vars:5,consts:[[3,"translucent"],["slot","end"],["size","small","fill","clear",3,"click"],["slot","icon-only","size","large","name","close-outline"],[1,"ion-text-start"],[1,"apod-image-content"],["type","indeterminate",4,"ngIf"],["backgroundColor","rgba(112, 105, 112, 0.2)",1,"pinch-zoom",3,"limit-zoom","autoHeight"],[3,"src","ionImgDidLoad","ionImgWillLoad"],["type","indeterminate"]],template:function(e,n){1&e&&(o.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),o.qCj("click",function(){return n.onCloseModal()}),o.wR5(4,"ion-icon",3),o.C$Y()(),o.I0R(5,"ion-title",4),o.OEk(6,"HD Image"),o.C$Y()()(),o.I0R(7,"ion-content",5),o.yuY(8,k,1,0,"ion-progress-bar",6),o.I0R(9,"pinch-zoom",7)(10,"ion-img",8),o.qCj("ionImgDidLoad",function(h){return n.didLoad(h)})("ionImgWillLoad",function(h){return n.willLoad(h)}),o.C$Y()()()),2&e&&(o.E7m("translucent",!0),o.yG2(8),o.E7m("ngIf",n.isLoading),o.yG2(),o.E7m("limit-zoom",500)("autoHeight",!0),o.yG2(),o.E7m("src",n.data))},dependencies:[m.u_,r.sn,r.GS,r._i,r.wB,r.Ko,r.Eh,r.WU,r.tM,r.Md,E],styles:[".apod-image-content[_ngcontent-%COMP%]{--background: rgba(112, 105, 112, .2) !important}.apod-image-content[_ngcontent-%COMP%]::part(content){-webkit-backdrop-filter:blur(12px)!important;backdrop-filter:blur(12px)!important}.pinch-zoom[_ngcontent-%COMP%]{width:100%!important;height:100%!important}@media only screen and (min-width: 1024px){.pinch-zoom[_ngcontent-%COMP%]{height:auto!important}}"]}),t})();function G(s,t){1&s&&o.wR5(0,"ion-progress-bar",6)}function B(s,t){if(1&s){const i=o.KQA();o.I0R(0,"ion-img",7),o.qCj("ionImgDidLoad",function(n){o.usT(i);const a=o.GaO();return o.CGJ(a.onImageLoaded(n))})("click",function(){o.usT(i);const n=o.GaO();return o.CGJ(n.onOpenHDImageModal())}),o.C$Y()}if(2&s){const i=o.GaO();o.E7m("src",i.apodData.url)}}function H(s,t){if(1&s&&o.wR5(0,"iframe",8),2&s){const i=o.GaO();o.E7m("src",i.getYouTubeEmbedUrl(i.apodData.url),o.CaN)}}function W(s,t){if(1&s){const i=o.KQA();o.I0R(0,"ion-button",9),o.qCj("click",function(){o.usT(i);const n=o.GaO();return o.CGJ(n.onOpenHDImageModal())}),o.OEk(1,"HD Image"),o.C$Y()}}let j=(()=>{var s;class t{constructor(){this.imageLoading=!0,this.sanitizer=(0,o.uUt)(D.mI),this.modalController=(0,o.uUt)(r.qS)}onImageLoaded(e){this.imageLoading=!1,console.log("Image load",e)}getYouTubeEmbedUrl(e){const a=`https://www.youtube.com/embed/${this.extractVideoId(e)}`;return this.sanitizer.bypassSecurityTrustResourceUrl(a)}onOpenHDImageModal(){var e=this;return(0,g.c)(function*(){yield(yield e.modalController.create({component:N,componentProps:{data:e.apodData.hdurl},cssClass:"apod-modal"})).present()})()}extractVideoId(e){const a=e.match(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/);return a?a[1]:null}}return(s=t).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=o.In1({type:s,selectors:[["app-apod-card"]],inputs:{apodData:"apodData"},decls:12,vars:7,consts:[[1,"ion-padding"],["type","indeterminate",4,"ngIf"],["alt","Not Available",3,"src","ionImgDidLoad","click",4,"ngIf"],["frameborder","0","allowfullscreen","",3,"src",4,"ngIf"],["color","primary"],[3,"click",4,"ngIf"],["type","indeterminate"],["alt","Not Available",3,"src","ionImgDidLoad","click"],["frameborder","0","allowfullscreen","",3,"src"],[3,"click"]],template:function(e,n){1&e&&(o.I0R(0,"ion-card",0),o.yuY(1,G,1,0,"ion-progress-bar",1)(2,B,1,1,"ion-img",2)(3,H,1,1,"iframe",3),o.I0R(4,"ion-card-header")(5,"ion-card-title"),o.OEk(6),o.C$Y(),o.I0R(7,"ion-card-subtitle",4),o.OEk(8),o.C$Y()(),o.I0R(9,"ion-card-content"),o.OEk(10),o.C$Y(),o.yuY(11,W,2,0,"ion-button",5),o.C$Y()),2&e&&(o.yG2(),o.E7m("ngIf",n.imageLoading&&"image"===n.apodData.media_type),o.yG2(),o.E7m("ngIf","image"===n.apodData.media_type),o.yG2(),o.E7m("ngIf","video"===n.apodData.media_type),o.yG2(3),o.cNF(n.apodData.title),o.yG2(2),o.oRS(" ",n.apodData.copyright?"Copyright: "+n.apodData.copyright:n.apodData.date," "),o.yG2(2),o.oRS(" ",n.apodData.explanation," "),o.yG2(),o.E7m("ngIf","image"===n.apodData.media_type))},dependencies:[m.u_,r.sn,r.KC,r.Gg,r.YY,r.MN,r.I7,r.Eh,r.WU],styles:["ion-card-header[_ngcontent-%COMP%]{text-align:start}ion-card-content[_ngcontent-%COMP%]{text-align:start}ion-img[_ngcontent-%COMP%]{cursor:pointer}iframe[_ngcontent-%COMP%]{display:block;background:#000;border:none;width:100%;height:350px}"]}),t})();function X(s,t){if(1&s&&(o.I0R(0,"ion-col"),o.wR5(1,"app-apod-card",14),o.C$Y()),2&s){const i=t.ngIf;o.yG2(),o.E7m("apodData",i)}}function R(s,t){if(1&s){const i=o.KQA();o.I0R(0,"ion-content",15)(1,"ion-datetime",16),o.qCj("ionChange",function(n){o.usT(i);const a=o.GaO();return o.CGJ(a.onDateSelection(n))}),o.C$Y()()}if(2&s){const i=o.GaO();o.yG2(),o.E7m("value",i.datePickerValue)}}function U(s,t){1&s&&o.wR5(0,"ion-spinner",17)}function V(s,t){if(1&s&&(o.I0R(0,"span",18),o.OEk(1),o.C$Y()),2&s){const i=o.GaO();o.yG2(),o.cNF(i.errorMessage)}}const J=[{path:"",component:(()=>{var s;class t{constructor(){this.modalController=(0,o.uUt)(r.qS),this.apodService=(0,o.uUt)(P),this.datePickerValue=this.formatDate(new Date),this.isLoading=!0}ngOnInit(){this.fetchApodData()}onViewPageInfo(){var e=this;return(0,g.c)(function*(){yield(yield e.modalController.create({component:b.y,componentProps:{data:T},cssClass:"page-info-modal"})).present()})()}onDateSelection(e){this.isLoading=!0,this.datePickerValue=e.detail.value,this.fetchApodData(),this.apod$&&(this.errorMessage="")}fetchApodData(){this.apod$=this.apodService.getPlanetaryAPOD(this.datePickerValue).pipe((0,C.a)(e=>(this.errorMessage=e.error.msg,S.k)),(0,w.U)(()=>{this.isLoading=!1}))}formatDate(e){return(0,m._m)(e,"yyyy-MM-dd","en-US")}}return(s=t).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=o.In1({type:s,selectors:[["app-apod"]],decls:28,vars:10,consts:[[3,"translucent"],["slot","start"],[1,"content",3,"fullscreen"],[1,"ion-padding",3,"fixed"],["id","open-datepicker","lines","none","button","true"],["position","fixed"],["slot","start","id","open-datepicker","name","calendar","color","primary"],["slot","end","color","primary"],[4,"ngIf","ngIfElse"],["collapse","fade",3,"translucent"],[3,"click"],["trigger","open-datepicker"],["name","circles",4,"ngIf"],["errorTemplate",""],[3,"apodData"],[1,"ion-padding"],["presentation","date","size","cover","showDefaultButtons","true",3,"value","ionChange"],["name","circles"],[1,"error-message"]],template:function(e,n){if(1&e&&(o.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o.wR5(3,"ion-menu-button"),o.C$Y(),o.I0R(4,"ion-title"),o.OEk(5,"Astronomy Picture of the Day"),o.C$Y()()(),o.I0R(6,"ion-content",2)(7,"ion-grid",3)(8,"ion-row")(9,"ion-col")(10,"ion-item",4)(11,"ion-label",5),o.OEk(12,"Pick Date"),o.C$Y(),o.wR5(13,"ion-icon",6),o.I0R(14,"ion-text",7),o.OEk(15),o.C$Y()()()(),o.I0R(16,"ion-row"),o.yuY(17,X,2,1,"ion-col",8),o.wVc(18,"async"),o.C$Y()()(),o.I0R(19,"ion-footer",9)(20,"ion-toolbar")(21,"ion-title")(22,"app-page-info",10),o.qCj("click",function(){return n.onViewPageInfo()}),o.C$Y()()()(),o.I0R(23,"ion-modal",11),o.yuY(24,R,2,1,"ng-template"),o.C$Y(),o.yuY(25,U,1,0,"ion-spinner",12)(26,V,2,1,"ng-template",null,13,o.gJz)),2&e){const a=o.Gew(27);o.E7m("translucent",!0),o.yG2(6),o.E7m("fullscreen",!1),o.yG2(),o.E7m("fixed",!0),o.yG2(8),o.cNF(n.datePickerValue),o.yG2(2),o.E7m("ngIf",o.kDX(18,8,n.apod$))("ngIfElse",a),o.yG2(2),o.E7m("translucent",!0),o.yG2(6),o.E7m("ngIf",n.isLoading)}},dependencies:[m.u_,r.GS,r.Kk,r._i,r.on,r.eV,r.YP,r.wB,r.Ko,r.Yb,r.QR,r.QT,r.qo,r.YA,r.Wg,r.tM,r.Md,r.yc,r.IT,z.m,j,m.a],styles:["ion-menu-button[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-col[_ngcontent-%COMP%]{text-align:center}ion-item[_ngcontent-%COMP%]{--background-hover: var(--ion-color-primary)}ion-spinner[_ngcontent-%COMP%]{width:50px;height:50px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}#open-datepicker[_ngcontent-%COMP%]{cursor:pointer}.error-message[_ngcontent-%COMP%]{font-weight:700;text-align:center;color:var(--ion-color-danger);position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),t})()}];let F=(()=>{var s;class t{}return(s=t).\u0275fac=function(e){return new(e||s)},s.\u0275mod=o.a4G({type:s}),s.\u0275inj=o.s3X({imports:[u.qQ.forChild(J),u.qQ]}),t})();var $=l(9280);let Q=(()=>{var s;class t{}return(s=t).\u0275fac=function(e){return new(e||s)},s.\u0275mod=o.a4G({type:s}),s.\u0275inj=o.s3X({imports:[m.MD,v.y,r.wZ,F,$.k,O]}),t})()}}]);